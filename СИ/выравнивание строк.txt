#include <stdlib.h>
#include <stdio.h>
#include <string.h>//подрубаем библиотеки
int main() //мейн
{
	int maxsize=0;//макс размер
	char str[2048],str1[2048];//строки
	FILE *f,*f2;//файлы
	int kol=0;//
	f=fopen("1.txt","r");//открываем файл
	while(fgets(str,2048,f) != 0)//считываем по 1 строке
	{
		int sz=strlen(str);//получаем размер строки
		if(sz>maxsize)//если текущий размер больше макс
		  maxsize=sz;//тогда макс стает равным текущему
	}		
	fclose(f);//	закрываем файл
	f=fopen("1.txt","r");//открываем файл на чтение
	f2=fopen("2.txt","w");//открываем файл на запись
	while(fgets(str,2048,f) != 0)//считываем по 1 строке
	{
		if(kol%3==0)//если строка номер 0 3 6 9
		{
				int poz1=0;//
				while(str[poz1]==' ')//считаем кол-во пробелов до 1 слова
				   poz1++;	//		
				strcpy(str,str+poz1);	//получаем строку 				
				int raz=(maxsize-strlen(str))/2;//считаем кол-во пробелов перед 1 словом
				strcpy(str1,"");//
				for(int i=0;i<raz;i++)//идем в цикле 
				{
					strcat(str1," ");//добавляем к строке пробелы
				}
				strcat(str1,str);//добавляем к строке строку str
				fprintf(f2,"%s",str1);//выводим стркоу в файл2
		}	
		if(kol%3==1)//если строка номер 1 4 7 10
		{
			int poz1=0;//позиция1 
			while(str[poz1]==' ')//
				poz1++;	//		
			strcpy(str,str+poz1);//убераем пробелы перед 1 словом со строки 
			fprintf(f2,"%s",str);	//выводим строку в файл2	
		}	
		if(kol%3==2)//если строка номер 2 5 8 11
		{
				int poz1=0;//
				while(str[poz1]==' ')//считаем кол-во пробелов до 1 слова
				   poz1++;//			
				strcpy(str,str+poz1);//					
				int raz=maxsize-strlen(str);//считаем кол-во пробелов перед 1 словом
				strcpy(str1,"");//идем в цикле 
				for(int i=0;i<raz;i++)//
				{
					strcat(str1," ");//добавляем к строке пробелы
				}
				strcat(str1,str);//
				fprintf(f2,"%s",str1);	//выводим строку в файл2
		}	
		kol++;//номер строки
	}		
	fclose(f);//закрываем оба файла
	fclose(f2);//закрываем оба файла
	return 0;
}
